{% extends "general_template.html" %}

{% block content %}
    <!--
  ~ connect. Build your own private social net
  ~ Copyright (C) 2021 Jaime Alvarez Fernandez
  ~ Contact info: jaime.af.git@gmail.com
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div id="profile">
        <form action="" method="post" novalidate>
        {{ form.hidden_tag() }}
            <table cellspacing="0" cellpadding="5" border="1">
                <tr>
                    <td>Username:</td>
                    <td>{{ user.username }}</td>
                </tr>
                <tr>
                    <td>{{ form.nickname.label }}:</td>
                    <td>
                        {{ form.nickname(size=32, autocomplete=off) }}<br>
                        {% for error in form.nickname.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>Avatar:</td>
                    <td><img src="{{ user.avatar(80) }}"></td>
                </tr>
                <tr>
                    <td>{{ form.user_email.label }}:</td>
                    <td>
                        <p>
                            {{ user.email }}
                        </p>
                        <p>
                            Modify email:<br>
                            {{ form.user_email(size=32, autocomplete=off) }}<br>
                            {% for error in form.user_email.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </p>
                    </td>
                </tr>
                <tr>
                    <td valign="top">{{ form.about_me.label }}:</td>
                    <td>
                        {{ form.about_me(cols=50, rows=4) }}<br>
                        {% for error in form.about_me.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.location.label }}:
                    </td>
                    <td>
                        {{ form.location(size=32) }}<br>
                        {% for error in form.location.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.website.label }}:
                    </td>
                    <td>
                        {{ form.website(size=32) }}<br>
                        {% for error in form.website.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </td>
                </tr>
                <tr valign="top">
                    <td>Change password:</td>
                    <td>
                         <a href="{{url_for('change_password')}}">Edit password</a>
                    </td>
                </tr>
                <tr>
                    <td>Delete account:</td>
                    <td>
                        <a href="{{ url_for('delete_account') }}">Delete account</a>
                    </td>
                </tr>
                <tr>
                    <td>Last time online:</td>
                    <td>{% if user.last_seen %}{{ user.last_seen }}{% endif %}</td>
                </tr>
                <tr>
                    <td></td>
                    <td>{{ form.submit() }}</td>
                </tr>
            </table>
        </form>
    </div>
{% endblock %}