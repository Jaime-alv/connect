{% extends "general_template.html" %}

{% block content %}
<!--
  ~ connect. Build your own private social net
  ~ Copyright (C) 2021 Jaime Alvarez Fernandez
  ~ Contact info: jaime.af.git@gmail.com
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->
{% if user == current_user %}
    <form action="" method="post" novalidate>
        {{ form.hidden_tag() }}
        <table>
            <tr>
                <td>
                    {{ form.message.label }}:
                </td>
                <td>
                    {{ form.message(size=100, autocomplete=off) }}<br>
                    {% for error in form.message.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </td>
            </tr>
            <tr>
                <td colspan="2" align="right">
                    {{ form.submit() }} <input type="reset" value="Clear">
                </td>
            </tr>
        </table>
    </form>
{% endif %}
<div class="justify_text">
    {% for post in posts %}
        <table>
            <tr valign="top">
                <td><img src="{{ post.author.avatar(36) }}"></td>
                <td><span class="underline bold">{{ post.author.username }} says</span>:<br>{{ post.body }}</td>
            </tr>
        </table>
    {% endfor %}
</div>
{% endblock %}